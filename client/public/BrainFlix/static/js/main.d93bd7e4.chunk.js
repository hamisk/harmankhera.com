(this["webpackJsonpharman-khera-brainflix"]=this["webpackJsonpharman-khera-brainflix"]||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},50:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(29),i=a.n(n),o=(a(37),a(32)),r=a(8),d=a(9),l=a(11),m=a(10),j=(a(38),a(12)),h=a(2),b=(a(39),a.p+"static/media/BrainFlix-logo.e2aad4fb.svg"),u=a.p+"static/media/Mohan-muruge.7f8e1b85.jpg",v=a.p+"static/media/search.b2de04bd.svg",p=a.p+"static/media/upload.5883ade3.svg",_=(a(40),a(0));var x=function(e){var t=e.src,a=e.text;return Object(_.jsxs)("button",{type:"submit",className:"CTAButton",children:[Object(_.jsx)("img",{className:"CTAButton__icon",src:t,alt:"upload icon"}),Object(_.jsx)("p",{className:"CTAButton__text",children:a})]})};var O=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"header",children:[Object(_.jsx)(j.b,{to:"/",children:Object(_.jsx)("img",{className:"header__logo",src:b,alt:"BrainFlix logo"})}),Object(_.jsxs)("div",{className:"header__right",children:[Object(_.jsxs)("div",{className:"header__search-avatar-wrapper",children:[Object(_.jsxs)("div",{className:"header__search-wrapper",children:[Object(_.jsx)("img",{className:"header__search-icon",src:v,alt:"search icon"}),Object(_.jsx)("input",{type:"text",name:"search",className:"header__search",placeholder:"Search"})]}),Object(_.jsx)("div",{className:"header__avatar-wrapper-a",children:Object(_.jsx)("img",{className:"header__avatar",src:u,alt:"avatar"})})]}),Object(_.jsx)(j.b,{to:"/VideoUpload",className:"header__button-Link",children:Object(_.jsx)(x,{src:p,text:"upload"})}),Object(_.jsx)("div",{className:"header__avatar-wrapper-b",children:Object(_.jsx)("img",{className:"header__avatar",src:u,alt:"avatar"})})]})]})})},f=a.p+"static/media/publish.9004aa72.svg",g=(a(50),a(13)),N=a.n(g),w="http://localhost:8080/api/videos/",V=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).handleUpload=function(e){e.preventDefault();var t=e.target,a={title:e.target.title.value,channel:"Username",image:"/images/image0.jpeg",description:e.target.description.value};N.a.post(w,a).then((function(){t.reset(),alert("Upload Successful"),window.location.href="/"}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{className:"video-upload__container",children:[Object(_.jsx)("h1",{className:"video-upload__title",children:"Upload Video"}),Object(_.jsxs)("div",{className:"video-upload__thumbnail-form-wrapper",children:[Object(_.jsxs)("div",{className:"video-upload__thumbnail-wrapper",children:[Object(_.jsx)("h3",{className:"video-upload__subheading",children:"Video Thumbnail"}),Object(_.jsx)("img",{src:u,alt:"video thumbnail",className:"video-upload__thumbnail"})]}),Object(_.jsxs)("form",{onSubmit:function(t){e.handleUpload(t)},className:"video-upload__form",children:[Object(_.jsxs)("label",{className:"video-upload__subheading",children:[" Title your video ",Object(_.jsx)("br",{}),Object(_.jsx)("input",{className:"video-upload__title-input",type:"text",name:"title",placeholder:"Add a title to your video"}),Object(_.jsx)("br",{})]}),Object(_.jsxs)("label",{className:"video-upload__subheading",children:[" Add a video description ",Object(_.jsx)("br",{}),Object(_.jsx)("textarea",{className:"video-upload__description",name:"description",placeholder:"Add a description to your video"})]}),Object(_.jsxs)("div",{className:"video-upload__links-wrapper",children:[Object(_.jsx)(x,{src:f,text:"publish"}),Object(_.jsx)(j.b,{to:"/",className:"video-upload__cancel",children:"Cancel"})]})]})]})]})}}]),a}(c.Component),k=V,y=(a(69),a.p+"static/media/add_comment.26bc7a20.svg"),C=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.comments,a=e.handleAddComment,c=e.fieldError;return Object(_.jsxs)("section",{className:"comment-form__section",children:[Object(_.jsxs)("h3",{className:"comment-form__heading",children:[t.length," Comments"]}),Object(_.jsxs)("div",{className:"comment-form__container",children:[Object(_.jsx)("div",{className:"comment-form__avatar-wrapper",children:Object(_.jsx)("img",{src:u,alt:"avatar",className:"comment-form__avatar"})}),Object(_.jsxs)("form",{onSubmit:a,className:"comment-form",children:[Object(_.jsxs)("div",{className:"comment-form__label-and-textarea",children:[Object(_.jsx)("label",{htmlFor:"comment",children:Object(_.jsx)("p",{className:"comment-form__subheading",children:"Join the conversation"})}),Object(_.jsx)("textarea",{name:"comment",className:"comment-form__comment ".concat(c?"comment-form__comment--error":""),placeholder:"Add a new comment"})]}),Object(_.jsx)("div",{className:"comment-form__button-wrapper",children:Object(_.jsx)(x,{src:y,text:"comment"})})]})]})]})}}]),a}(c.Component),S=C;a(70);function D(e){var t=new Date(e),a=(new Date-t)/1e3,c=Math.round(a/60),s=Math.round(c/60),n=Math.round(s/24),i=Math.round(n/7),o=Math.round(i/4.35),r=Math.round(o/12);return a<30?"a few seconds ago":a<60?"less than a minute ago":a<240?"a few minutes ago":a<3570?"".concat(c," minutes ago"):s<24?"".concat(s," hours ago"):n<7?"".concat(n," days ago"):i<4?"".concat(i," weeks ago"):o<12?"".concat(o," months ago"):"".concat(r," years ago")}function A(e){var t=new Date(e),a="0".concat(t.getMonth()+1),c="0".concat(t.getDate()),s=t.getFullYear();return"".concat(a.slice(-2),"/").concat(c.slice(-2),"/").concat(s)}var F=a.p+"static/media/icon-delete.6ca220e9.svg";var M=function(e){var t=e.comments,a=e.handleDelete;return t.sort((function(e,t){return t.timestamp-e.timestamp})),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"comment__container",children:t.map((function(e){return Object(_.jsxs)("div",{className:"comment__wrapper",children:[Object(_.jsxs)("div",{className:"comment__avatar-delete-wrapper",children:[Object(_.jsx)("div",{className:"comment__avatar"}),Object(_.jsx)("img",{id:e.id,src:F,alt:"delete",className:"comment__delete",onClick:a})]}),Object(_.jsxs)("div",{className:"comment__area",children:[Object(_.jsxs)("div",{className:"comment__nameDate",children:[Object(_.jsx)("p",{className:"comment__name",children:e.name}),Object(_.jsx)("p",{className:"comment__date",children:D(e.timestamp)})]}),Object(_.jsx)("p",{className:"comment__text",children:e.comment})]})]},e.id)}))})})};a(71);var E=function(e){var t=e.videos;return Object(_.jsxs)("section",{className:"next-video__section",children:[Object(_.jsx)("h3",{className:"next-video__heading",children:"NEXT VIDEOS"}),t.map((function(e){return Object(_.jsx)(j.b,{to:"/VideoDetails/"+e.id,children:Object(_.jsxs)("div",{className:"next-video__wrapper",children:[Object(_.jsx)("div",{className:"next-video__image-container",children:Object(_.jsx)("img",{className:"next-video__thumbnail",src:e.image,alt:e.title})}),Object(_.jsxs)("div",{className:"next-video__text-wrapper",children:[Object(_.jsx)("p",{className:"next-video__title",children:e.title}),Object(_.jsx)("p",{className:"next-video__name",children:e.channel})]})]})},e.id)}))]})},T=(a(72),a.p+"static/media/views.8b6d21c6.svg"),B=a.p+"static/media/likes.246cd8f4.svg",L=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selectedVideo,a=e.handleVideoLike;return Object(_.jsxs)("section",{className:"video-details",children:[Object(_.jsx)("div",{className:"video-details__title",children:t.title}),Object(_.jsxs)("div",{className:"video-details__info-wrapper",children:[Object(_.jsxs)("div",{className:"video-details__channel-date",children:[Object(_.jsxs)("p",{className:"video-details__channel",children:["By ",t.channel]}),Object(_.jsx)("p",{className:"video-details__date",children:A(t.timestamp)})]}),Object(_.jsxs)("div",{className:"video-details__views-likes",children:[Object(_.jsxs)("p",{className:"video-details__views",children:[Object(_.jsx)("img",{className:"video-details__icon",src:T,alt:"views icon"}),"\xa0 ",t.views]}),Object(_.jsxs)("p",{onClick:a,className:"video-details__likes",children:[Object(_.jsx)("img",{className:"video-details__icon",src:B,alt:"likes icon"}),"\xa0 ",t.likes]})]})]}),Object(_.jsx)("p",{className:"video-details__description",children:t.description})]})}}]),a}(c.Component),U=L;a(73);var I=function(e){var t=e.selectedVideo;return Object(_.jsx)("div",{className:"video",children:Object(_.jsxs)("video",{className:"video__player",controls:!0,poster:t.image,children:[Object(_.jsx)("source",{src:t.video+"?api_key=8db7a13b-fd03-4077-9d49-cd23d3d3370c"}),"Your browser does not support the video tag."]})})},J=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var c=arguments.length,s=new Array(c),n=0;n<c;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={videos:[],selectedVideo:{},fieldError:!1},e.getSelectedVideo=function(t){N.a.get(w+t).then((function(t){e.setState({selectedVideo:t.data})}))},e.handleAddComment=function(t){if(t.preventDefault(),!t.target.comment.value)return e.setState({fieldError:!0});var a=t.target,c={},s=e.state.selectedVideo.id;c.name="Anonymous",c.comment=t.target.comment.value,e.setState({fieldError:!1}),N.a.post(w+s+"/comments",c).then((function(){a.reset(),e.getSelectedVideo(s)}))},e.handleDelete=function(t){var a=t.target.id,c=e.state.selectedVideo.id,s="".concat(w).concat(c,"/comments/").concat(a);N.a.delete(s).then((function(){e.getSelectedVideo(c)})).catch((function(e){return console.log(e)}))},e.handleVideoLike=function(){var t=e.state.selectedVideo.id;N.a.put(w+t+"/likes").then((function(){e.getSelectedVideo(t)}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.a.get(w).then((function(t){var a=e.props.match.params.id||t.data[0].id;e.setState({videos:t.data}),e.getSelectedVideo(a)}))}},{key:"componentDidUpdate",value:function(e){var t=e.match.params.id,a=this.props.match.params.id||this.state.videos[0].id;t||(t=this.state.videos[0].id),String(a)!==String(t)&&(this.getSelectedVideo(a),window.scrollTo(0,0))}},{key:"render",value:function(){var e=this.state,t=e.videos,a=e.selectedVideo,c=t.filter((function(e){return e.id!==a.id}));return this.state.videos.length&&this.state.selectedVideo.id?Object(_.jsxs)("div",{children:[Object(_.jsx)(I,{selectedVideo:a}),Object(_.jsxs)("section",{className:"details-comments-next-container",children:[Object(_.jsxs)("div",{className:"details-comments-wrapper",children:[Object(_.jsx)(U,{selectedVideo:a,handleVideoLike:this.handleVideoLike}),Object(_.jsx)(S,{comments:a.comments,handleAddComment:this.handleAddComment,fieldError:this.state.fieldError}),Object(_.jsx)(M,{comments:a.comments,handleDelete:this.handleDelete})]}),Object(_.jsx)(E,{videos:c})]})]}):Object(_.jsx)("div",{children:"Loading..."})}}]),a}(c.Component),P=J,Y=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(j.a,{children:[Object(_.jsx)(O,{}),Object(_.jsxs)(h.c,{children:[Object(_.jsx)(h.a,{path:"/",exact:!0,component:P}),Object(_.jsx)(h.a,{path:"/VideoDetails/:id",render:function(e){return Object(_.jsx)(P,Object(o.a)({},e))}}),Object(_.jsx)(h.a,{path:"/VideoUpload",component:k})]})]})})}}]),a}(c.Component),X=Y,q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(X,{})}),document.getElementById("root")),q()}},[[74,1,2]]]);
//# sourceMappingURL=main.d93bd7e4.chunk.js.map